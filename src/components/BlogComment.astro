<div class="blog-comment"></div>
<script>
  function createComments(theme) {
    let currentComments = document.querySelector('.utterances');
    let commentSection = document.querySelector('.blog-comment');

    if (currentComments) {
      commentSection.innerHTML = '';
    }

    let script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'TheodoreGC/theodoregc.github.io');
    script.setAttribute('issue-term', 'og:title');
    script.setAttribute('theme', 'github-' + theme);
    script.setAttribute('crossorigin', 'anonymous');
    script.setAttribute('async', '');
    commentSection.appendChild(script);
  }

  createComments(theme);

  document.documentElement.addEventListener('theme-change', () => {
    let theme = localStorage.getItem('theodore-garson-website-theme');
    createComments(theme);
  });
</script>
